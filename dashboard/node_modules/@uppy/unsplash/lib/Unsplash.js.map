{"version":3,"sources":["Unsplash.jsx"],"names":["packageJson","Unsplash","UIPlugin","constructor","uppy","opts","id","title","Provider","initPlugin","icon","companionUrl","Error","hostname","provider","SearchProvider","companionHeaders","companionCookiesRule","pluginId","install","view","SearchProviderViews","viewType","target","mount","onFirstRender","render","state","uninstall","unmount","VERSION","version"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;MAEOA,W;;;AAEP;AACA;AACA;AACA;;AACe,MAAMC,QAAN,SAAuBC,cAAvB,CAAgC;AAG7CC,EAAAA,WAAW,CAAEC,IAAF,EAAQC,IAAR,EAAc;AACvB,UAAMD,IAAN,EAAYC,IAAZ;AACA,SAAKC,EAAL,GAAU,KAAKD,IAAL,CAAUC,EAAV,IAAgB,UAA1B;AACA,SAAKC,KAAL,GAAa,KAAKF,IAAL,CAAUE,KAAV,IAAmB,UAAhC;;AAEAC,8BAASC,UAAT,CAAoB,IAApB,EAA0BJ,IAA1B,EAAgC,EAAhC;;AAEA,SAAKK,IAAL,GAAY,MACV;AAAK,MAAA,OAAO,EAAC,WAAb;AAAyB,MAAA,MAAM,EAAC,IAAhC;AAAqC,MAAA,KAAK,EAAC,IAA3C;AAAgD,qBAAY;AAA5D,OACE;AAAM,MAAA,CAAC,EAAC,qDAAR;AAA8D,MAAA,IAAI,EAAC;AAAnE,MADF,EAEE;AAAM,MAAA,SAAS,EAAC,qBAAhB;AAAsC,MAAA,KAAK,EAAC,IAA5C;AAAiD,MAAA,MAAM,EAAC,IAAxD;AAA6D,MAAA,EAAE,EAAC;AAAhE,MAFF,EAGE;AAAM,MAAA,CAAC,EAAC,2CAAR;AAAoD,MAAA,IAAI,EAAC;AAAzD,MAHF,CADF;;AAQA,QAAI,CAAC,KAAKL,IAAL,CAAUM,YAAf,EAA6B;AAC3B,YAAM,IAAIC,KAAJ,CAAU,+EAAV,CAAN;AACD;;AAED,SAAKC,QAAL,GAAgB,KAAKR,IAAL,CAAUM,YAA1B;AAEA,SAAKG,QAAL,GAAgB,IAAIC,+BAAJ,CAAmBX,IAAnB,EAAyB;AACvCO,MAAAA,YAAY,EAAE,KAAKN,IAAL,CAAUM,YADe;AAEvCK,MAAAA,gBAAgB,EAAE,KAAKX,IAAL,CAAUW,gBAFW;AAGvCC,MAAAA,oBAAoB,EAAE,KAAKZ,IAAL,CAAUY,oBAHO;AAIvCH,MAAAA,QAAQ,EAAE,UAJ6B;AAKvCI,MAAAA,QAAQ,EAAE,KAAKZ;AALwB,KAAzB,CAAhB;AAOD;;AAEDa,EAAAA,OAAO,GAAI;AACT,SAAKC,IAAL,GAAY,IAAIC,kCAAJ,CAAwB,IAAxB,EAA8B;AACxCP,MAAAA,QAAQ,EAAE,KAAKA,QADyB;AAExCQ,MAAAA,QAAQ,EAAE;AAF8B,KAA9B,CAAZ;AAKA,UAAM;AAAEC,MAAAA;AAAF,QAAa,KAAKlB,IAAxB;;AACA,QAAIkB,MAAJ,EAAY;AACV,WAAKC,KAAL,CAAWD,MAAX,EAAmB,IAAnB;AACD;AACF,GA3C4C,CA6C7C;;;AACAE,EAAAA,aAAa,GAAI,CACf;AACD;;AAEDC,EAAAA,MAAM,CAAEC,KAAF,EAAS;AACb,WAAO,KAAKP,IAAL,CAAUM,MAAV,CAAiBC,KAAjB,CAAP;AACD;;AAEDC,EAAAA,SAAS,GAAI;AACX,SAAKC,OAAL;AACD;;AAxD4C;;AAA1B5B,Q,CACZ6B,O,GAAU9B,WAAW,CAAC+B,O;iBADV9B,Q","sourcesContent":["import { h } from 'preact'\nimport { UIPlugin } from '@uppy/core'\nimport { SearchProvider, Provider } from '@uppy/companion-client'\nimport { SearchProviderViews } from '@uppy/provider-views'\n\nimport packageJson from '../package.json'\n\n/**\n * Unsplash\n *\n */\nexport default class Unsplash extends UIPlugin {\n  static VERSION = packageJson.version\n\n  constructor (uppy, opts) {\n    super(uppy, opts)\n    this.id = this.opts.id || 'Unsplash'\n    this.title = this.opts.title || 'Unsplash'\n\n    Provider.initPlugin(this, opts, {})\n\n    this.icon = () => (\n      <svg viewBox=\"0 0 32 32\" height=\"32\" width=\"32\" aria-hidden=\"true\">\n        <path d=\"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z\" fill=\"#fff\" />\n        <rect className=\"uppy-ProviderIconBg\" width=\"32\" height=\"32\" rx=\"16\" />\n        <path d=\"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z\" fill=\"#fff\" />\n      </svg>\n    )\n\n    if (!this.opts.companionUrl) {\n      throw new Error('Companion hostname is required, please consult https://uppy.io/docs/companion')\n    }\n\n    this.hostname = this.opts.companionUrl\n\n    this.provider = new SearchProvider(uppy, {\n      companionUrl: this.opts.companionUrl,\n      companionHeaders: this.opts.companionHeaders,\n      companionCookiesRule: this.opts.companionCookiesRule,\n      provider: 'unsplash',\n      pluginId: this.id,\n    })\n  }\n\n  install () {\n    this.view = new SearchProviderViews(this, {\n      provider: this.provider,\n      viewType: 'unsplash',\n    })\n\n    const { target } = this.opts\n    if (target) {\n      this.mount(target, this)\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  onFirstRender () {\n    // do nothing\n  }\n\n  render (state) {\n    return this.view.render(state)\n  }\n\n  uninstall () {\n    this.unmount()\n  }\n}\n"]}